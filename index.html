<!DOCTYPE html>
<!--[if IE 8]>         <html class="ie8"> <![endif]-->
<!--[if IE 9]>         <html class="ie9 gt-ie8"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="gt-ie8 gt-ie9 not-ie"> <!--<![endif]-->
<head class="no-js" lang="en" dir="ltr">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<title>My Courses  | Coursella</title>

<meta property="og:site_name" content="Coursella" />
<meta property="og:title" content="My Courses - Coursella" />
<meta name="description" content="Coursella is a social learning platform, aiming to make education more accessible, engaging and fun.">
<meta property="og:description" content="Coursella is a social learning platform, aiming to make education more accessible, engaging and fun." />
<meta property="og:image" content="https://www.coursella.com/static/images/logo_800x500.png?v=1510492576" />
<meta property="og:url" content="https://www.coursella.com/course/gallery/" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@Coursella" />
<meta name="twitter:title" content="My Courses - Coursella" />
<meta name="twitter:description" content="Coursella is a social learning platform, aiming to make education more accessible, engaging and fun." />
<meta name="twitter:image" content="https://www.coursella.com/static/images/logo_500x500.png?v=1510492550" />
<meta name="twitter:url" content="https://www.coursella.com/course/gallery/" />

<script src="/cdn-cgi/apps/head/JQ2EmZMKSzzFFG3nH5GHjLaTd5Q.js"></script><link rel="icon" href="https://www.coursella.com/static/favicon.png?v=1510492620">

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin" rel="stylesheet" type="text/css">

<link rel="search" href="https://www.coursella.com/tools/opensearchdescription.xml" type="application/opensearchdescription+xml" title="Coursella" />

<link href="/static/stylesheets/base.min.css?v=1510492610" rel="stylesheet" type="text/css">
<link href="/static/stylesheets/widgets.min.css?v=1510492615" rel="stylesheet" type="text/css">
<link href="/static/stylesheets/pages.min.css?v=1510492616" rel="stylesheet" type="text/css">
<link href="/static/stylesheets/default.min.css?v=1510492613" rel="stylesheet" type="text/css">
<style>
			#logo-app-header{width: 100px; height:auto;}


#main-menu .mmc-dropdown-open-ul a, #main-menu .navigation a {
  font-size: 14px;
  line-height: 23px;
}
@media (min-width: 768px) {
.mmc #main-menu, .mmc #main-menu-bg, .mme.mmc #main-menu, .mme.mmc #main-menu-bg {
  width: 128px!important;
}
.mmc #main-wrapper {
  padding-left: 128px!important;
}
.right-to-left.mmc #main-wrapper {
  padding-right: 128px!important;
}
.main-menu-right #main-navbar .navbar-header, .mmc #main-navbar .navbar-header {
    width: 128px!important;
}
}
		</style>
<script type="text/javascript">var init = [];</script>


<!--[if lt IE 9]>
		<script type="text/javascript" src="'https://html5shiv.googlecode.com/svn/trunk/html5.js'"></script>
		<script type="text/javascript" src="/static/javascripts/ie.min.js?v=1510492604"></script>
	<![endif]-->
</head>
<body class="main-navbar-fixed main-menu-animated theme-default left-to-right mmc">
<!--[if lt IE 7]>
    <p class="chromeframe">
        You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.
    </p>
<![endif]-->
<div id="main-wrapper">

<div id="main-navbar" class="navbar navbar-inverse" role="navigation">

<button type="button" id="main-menu-toggle"><i class="navbar-icon fa fa-bars icon"></i><span class="hide-menu-text">HIDE MENU</span></button>
<div class="navbar-inner">

<div class="navbar-header">

<a href="https://www.coursella.com/" class="navbar-brand">
<img src="https://www.coursella.com/logos/logo_dark.png" alt="Coursella" id="logo-app-header" style="vertical-align: middle;">
</a>

<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapse"><i class="navbar-icon fa fa-bars"></i></button>
</div> 
<div id="main-navbar-collapse" class="collapse navbar-collapse main-navbar-collapse">
<div>
<ul class="nav navbar-nav navbar-search-form">
<li>
<form class="navbar-form pull-left" action="/explore/" data-base-action="/explore/" method='get'>
<span class="fa fa-search"></span>
<input name='q' value="" type="text" class="form-control" placeholder="Find documents, people and more...">
<input type='submit' style="display:none;"> 
</form>
</li>
</ul> 
<div class="right clearfix">
<ul class="nav navbar-nav pull-right right-navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle user-menu" data-toggle="dropdown">
<img src="https://www.gravatar.com/avatar/92615feee7ba35a9345c464f72ed7300?s=50&amp;d=mm&amp;r=g" alt="">
<span>Nusak <i class="fa fa-angle-down hidden-xs"></i></span>
</a>
<ul class="dropdown-menu">
<li><a href="/profile/5a34b4967f2995054d83e9ac/"><i class="dropdown-icon fa fa-fw fa-user"></i>&nbsp;&nbsp;Profile</a></li>
<li><a href="/course/gallery/"><i class="dropdown-icon fa fa-fw fa-book"></i>&nbsp;&nbsp;My Courses</a></li>
<li><a href="/profile/settings/"><i class="dropdown-icon fa fa-fw fa-cog"></i>&nbsp;&nbsp;Settings</a></li>
<li class="divider"></li>
<li><a href="https://guides.coursella.com/en/" target="_blank"><i class="dropdown-icon fa fa-fw fa-life-saver"></i>&nbsp;&nbsp;Help</a></li>
<li><a href="https://blog.coursella.com/en/" target="_blank"><i class="dropdown-icon fa fa-fw fa-newspaper-o"></i>&nbsp;&nbsp;Blog</a></li>
<li><a href="/contact/"><i class="dropdown-icon fa fa-fw fa-send"></i>&nbsp;&nbsp;Contact</a></li>
<li class="divider"></li>
<li><a href="https://www.coursella.com/logout/"><i class="dropdown-icon fa fa-fw fa-power-off"></i>&nbsp;&nbsp;Logout</a></li>
<li class="divider"></li>
<li class="language-switcher">
<div class="btn-group btn-group-justified" role="group">
<a href="/en/?next=%2Fcourse%2Fgallery%2F" class="btn btn-outline text-bold">en</a>
<a href="/fr/?next=%2Fcourse%2Fgallery%2F" class="btn btn-outline ">fr</a>
<a href="/ar/?next=%2Fcourse%2Fgallery%2F" class="btn btn-outline ">Ø¹</a>
</div>
</li>
</ul>
</li>
</ul> 
<ul class="nav navbar-nav pull-right right-navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle user-menu" data-toggle="dropdown">
<i class="fa fa-fw fa-plus"></i>
</a>
<ul class="dropdown-menu course-create-join-dropdown">
<li>
<a href="#" data-toggle="modal" data-target="#course_create">
<i class="fa fa-plus"></i> Create a New Course
<p class="text-muted text-sm">
Create a new course now, then invite your students so you can easily communicate and share your class material and schedule.
</p>
</a>
</li>
<li class="divider"></li>
<li>
<a href="#" data-toggle="modal" data-target="#course_join">
<i class="fa fa-sign-in"></i>&nbsp;&nbsp;Join an Existing Course
<p class="text-muted text-sm">
Join your instructor and colleagues and start studying together.
</p>
</a>
</li>
</ul>
</li>
</ul>

<script>
									init.push(function () {

										/* Handle notification count in page <title> */
										var PageTitleNotification = {
										    Vars:{
										        OriginalTitle: document.title,
										    		notifications: 0,
										    		messageNotifications: 0
										    },
										    updateNotificationsCount: function(count){
										    	this.Vars.notifications = count;
										    	this.ShowNumber();
										    },
										    updateMessageNotificationsCount: function(count){
										    	this.Vars.messageNotifications = count;
										    	this.ShowNumber();
										    },
										    ShowNumber: function(){
										    	var number = this.Vars.notifications + this.Vars.messageNotifications;
										    	if (number > 0) {
										    		var count = '(' + number + ')';
										    	  document.title = count + ' ' + this.Vars.OriginalTitle;
										    	} else {
										    		document.title = this.Vars.OriginalTitle;
										    	}

										    },
										    Off: function(){
										      document.title = this.Vars.OriginalTitle;
										    }
										}

										/* Handle General Notifications */
										var notifications = window.react.renderNotifications(
											id = "notifications",
											url = "https://www.coursella.com/api/notifications/?type=general&order_by=-created_at&fields=id,type,read,created_at,html",
											readAllUrl = "https://www.coursella.com/api/notifications/action/read/general/",
											args = {
												colorClass : "nav-icon-btn-danger",
												readIcon : "fa-bell-o",
												unreadIcon : "fa-bell",
												smallScreenText : "Notifications",
												emptyText : "You still have no notifications, yet!",
												moreUrl : "/notifications/",
												moreText: "MORE NOTIFICATIONS",
												pageTitleObject: PageTitleNotification,
												pageTitleCallback: "updateNotificationsCount",
											}
										);

										/* Handle Message Notifications */
										var message_notifications = window.react.renderNotifications(
											id = "message-notifications",
											url = "https://www.coursella.com/api/notifications/?type=MessageNotification&order_by=-created_at&fields=id,type,read,created_at,html",
											readAllUrl = "https://www.coursella.com/api/notifications/action/read/MessageNotification/",
											args = {
												colorClass : "nav-icon-btn-info",
												readIcon : "fa-envelope-o",
												unreadIcon : "fa-envelope",
												smallScreenText : "Messages",
												emptyText : "You still have no messages, yet!",
												moreUrl : "/messages/",
												moreText: "MORE MESSAGES",
												pageTitleObject: PageTitleNotification,
												pageTitleCallback: "updateMessageNotificationsCount",
											}
										);

										/* Handle real-time notifications */
										var url = "/subscribe/5a34b4967f2995054d83e9ac"
										url += "?auth=" + "75aa68f0-a1e2-415b-b9e0-12afbc72273d"

							      
							      	var evtSource = new EventSource(url);
							      

							      evtSource.onmessage = function(e) {
										  var data = JSON.parse(e.data);

										  if (data.type == 'MessageNotification') {
										  	message_notifications.incrementUnread();
										  	message_notifications.showNotifications([data.notification]);
										  } else {
										  	notifications.incrementUnread();
										  	notifications.showNotifications([data.notification]);
										  }

										  $.notify({
												// options
												message: data.notification.html,
												url: '#',
											},{
												// settings
												type: 'notification',
												delay: 5000,
												allow_dismiss: true,
												placement: {
													from: "bottom",
													align:  "right" 
												},
												mouse_over: 'pause',
												template:
													'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
														'<button type="button" aria-hidden="true" class="close" data-notify="dismiss">Ã</button>' +
														'<span data-notify="icon"></span> ' +
														'<span data-notify="title">{1}</span> ' +
														'<span data-notify="message">{2}</span>' +
														'<a href="{3}" target="{4}" data-notify="url"></a>' +
													'</div>'

											});

											$("span.timeago").timeago();
										}

									});
								</script>

<ul id="message-notifications" class="nav navbar-nav pull-right right-navbar-nav"></ul>
<ul id="notifications" class="nav navbar-nav pull-right right-navbar-nav"></ul>
</div> 
</div>
</div> 
</div> 
</div> 


<div id="main-menu" role="navigation">
<div id="main-menu-inner">
<div class="menu-content top" id="menu-content-demo">

<div>
<div class="text-bg" style="font-size: 13px;"><span class="text-slim">Welcome,</span> <span class="text-semibold">Nusak</span></div>
<img src="https://www.gravatar.com/avatar/92615feee7ba35a9345c464f72ed7300?s=50&amp;d=mm&amp;r=g" alt="" class="">
<div class="btn-group">
<a href="/messages/" class="btn btn-xs btn-primary btn-outline dark toggle-tooltip" data-placement="bottom" data-container="body" title="Messages"><i class="fa fa-envelope"></i></a>
<a href="/profile/5a34b4967f2995054d83e9ac/" class="btn btn-xs btn-primary btn-outline dark toggle-tooltip" data-placement="bottom" data-container="body" title="Profile"><i class="fa fa-user"></i></a>
<a href="/profile/settings/" class="btn btn-xs btn-primary btn-outline dark toggle-tooltip" data-placement="bottom" data-container="body" title="Settings"><i class="fa fa-cog"></i></a>
<a href="https://www.coursella.com/logout/" class="btn btn-xs btn-danger btn-outline dark toggle-tooltip" data-placement="bottom" data-container="body" title="Logout"><i class="fa fa-power-off"></i></a>
</div>
</div>
</div>
<ul class="navigation">

<li class="mm-dropdown">
<a href="/course/gallery/"><i class="menu-icon fa fa-book"></i><span class="mm-text">My Courses</span></a>
<ul>
<li>
<a tabindex="-1" href="/course/gallery/"><i class="menu-icon fa fa-th-large"></i><span class="mm-text">View All (0)</span></a>
</li>
<li>
<a tabindex="-1" href="#" data-toggle="modal" data-target="#course_join"><i class="menu-icon fa fa-sign-in"></i><span class="mm-text text-success">Join Course</span></a>
</li>
</ul>
</li>

<li class="mm-dropdown">
<a href="/calendar/"><i class="menu-icon fa fa-calendar"></i><span class="mm-text">Calendar</span></a>
<ul>
<li>
<a tabindex="-1" href="/calendar/"><span class="mm-text">Calendar</span></a>
</li>
<li>
<a tabindex="-1" href="/calendar/timetable/"><span class="mm-text">Time Tables</span></a>
</li>
</ul>
</li>
<li class="mm-dropdown">
<a href="/messages/"><i class="menu-icon fa fa-envelope-o"></i><span class="mm-text">Messages</span></a>
<ul>
<li>
<a tabindex="-1" href="/messages/new/"><i class="menu-icon fa fa-pencil-square-o"></i><span class="mm-text">New Message</span></a>
</li>
<li>
<a tabindex="-1" href="/messages/"><i class="menu-icon fa fa-inbox"></i><span class="mm-text">Inbox</span></a>
</li>
<li>
<a tabindex="-1" href="/messages/sent"><i class="menu-icon fa fa-envelope"></i><span class="mm-text">Sent</span></a>
</li>
<li>
<a tabindex="-1" href="/messages/trash"><i class="menu-icon fa fa-trash-o"></i><span class="mm-text">Trash</span></a>
</li>
</ul>
</li>
<li>
<a href="/grades/"><i class="menu-icon fa fa-graduation-cap"></i><span class="mm-text">Grades</span></a>
</li>
<li class="mm-dropdown">
<a href="/explore/communities/"><i class="menu-icon fa fa-flag-o"></i><span class="mm-text">Explore</span></a>
<ul>

<li>
<a tabindex="-1" href="/explore/communities/"><i class="menu-icon fa fa-globe"></i><span class="mm-text">Communities</span></a>
</li>
<li>
<a tabindex="-1" href="/explore/users/"><i class="menu-icon fa fa-user"></i><span class="mm-text">People</span></a>
</li>
<li>
<a tabindex="-1" href="/explore/courses/"><i class="menu-icon fa fa-book"></i><span class="mm-text">Courses</span></a>
</li>
<li>
<a tabindex="-1" href="/explore/posts/"><i class="menu-icon fa fa-file-text-o"></i><span class="mm-text">Posts</span></a>
</li>
</ul>
</li>
</ul> 
<div class="menu-content" style="color: #5C626F;">
&copy; 2017 Coursella.
</div>
</div> 
</div> 


<div id="content-wrapper">
<div class="row" style="margin:-30px -30px 30px;">
<div class="alert alert-warning " style="margin-bottom:0">
<button type="button" class="close" data-dismiss="alert">&times;</button>
Confirm your email address to access all of Coursella's features. A confirmation message was sent to your email address (<a id='resend_confirmation_email' href='#'>resend</a>)
</div>
</div>
<div class="page-header">
<div class="row">

<h1 class="col-xs-12 col-sm-5 text-center text-left-sm" style="line-height:44px">
<i class="fa fa-book page-header-icon"></i>&nbsp;&nbsp;My Courses
&nbsp;&nbsp;
<div class="btn-group">
<a href="#" class="btn btn-xs btn-outline active toggle-tooltip switch_view" data-action="gallery" data-container="body" title="Show as a gallery"><i class="fa fa-th"></i></a>
<a href="#" class="btn btn-xs btn-outline  toggle-tooltip switch_view" data-action="a-z" data-container="body" title="Show as a list"><i class="fa fa-list-ul"></i></a>
</div>
&nbsp;&nbsp;
</h1>
<div class="col-xs-12 col-sm-7 hidden-xs">
<div class="row">
<hr class="visible-xs no-grid-gutter-h">
<div id="filters" class="pull-right col-xs-12 col-sm-auto form-inline" style="padding-top:0">
<i class="fa fa-search" style="opacity: .2;"></i>&nbsp;&nbsp;
<input class="search_filter form-control input-sm" type="text" name="contains" placeholder="Search in your courses.." value="" style="border: none;padding-left: 0;padding-right: 0;font-size: 13px;">
&nbsp;&nbsp;
<select class="sorting_filter form-control filter-style" value="" placeholder="Sort by">
<option value="-created_at">Recent</option>
<option value="title" selected=selected>Alphabetic</option>
<option value="-latest_activity">Activity</option>
</select>
&nbsp;&nbsp;
<div class="btn-group course_fab dropdown">
<a href="#" class="btn btn-info btn-fab dropdown-toggle" data-toggle="dropdown">+</a>
<ul class="dropdown-menu dropdown-menu-right course-create-join-dropdown">
<li>
<a href="#" data-toggle="modal" data-target="#course_create">
<i class="fa fa-plus"></i> Create a New Course
<p class="text-muted text-sm">
Create a new course now, then invite your students so you can easily communicate and share your class material and schedule.
</p>
</a>
</li>
<li class="divider"></li>
<li>
<a href="#" data-toggle="modal" data-target="#course_join">
<i class="fa fa-sign-in"></i> Join an Existing Course
<p class="text-muted text-sm">
Join your instructor and colleagues and start studying together.
</p>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div> 
<div class="row course-gallery">
<div id="course_list"></div>
<div id="help_course_card_template" style="display:none;">
<div class="course-card-wrap">
<a href="#" data-toggle="modal" data-target="#course_join" class="course-card new">
<div class="panel">
<div class="panel-body">
<span class="text-muted text-bg new-card-text">Start by joining a course!</span>
</div>
</div>
</a>
</div>
</div>
</div>
</div> 
<div id="main-menu-bg"></div>
</div> 
<div class="fixed-controls">
<div class="btn-group dropup">
<a href="#" class="help btn btn-outline btn-info dropdown-toggle" type="button" id="help-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<i class="fa fa-question-circle-o text-info"></i>&nbsp;&nbsp;Help
</a>
<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="help-dropdown">
<li><a href="https://guides.coursella.com/en/" target="_blank"><i class="dropdown-icon fa fa-fw fa-life-saver"></i>&nbsp;&nbsp;Guides</a></li>
<li><a href="https://blog.coursella.com/en/" target="_blank"><i class="dropdown-icon fa fa-fw fa-newspaper-o"></i>&nbsp;&nbsp;Blog</a></li>
<li role="separator" class="divider"></li>
<li><a href="/contact/"><i class="dropdown-icon fa fa-fw fa-send"></i>&nbsp;&nbsp;Contact</a></li>
</ul>
</div>
<a href="#" data-toggle="modal" data-target="#shareCoursella" class="share btn btn-outline btn-danger" title="Share Coursella">
<i class="fa fa-heart-o text-danger"></i>&nbsp;&nbsp;Share
</a>
</div>
<div class="modal fade" id="shareCoursella" tabindex="-1" role="dialog">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-body text-center">
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
<img src="https://www.coursella.com/static/images/icons/new_course.png?v=1510492555" alt="" style="margin-top:20px; margin-bottom:30px;">
<h4 class="text-primary">Find Coursella useful?</h4>
<p>Spread the word and share us with teachers at your institution.</p>
<div style="margin-top:20px;">
<div class="list-group text-bg" style="margin-bottom: 0;">
<a href="/cdn-cgi/l/email-protection#6f501c1a0d050a0c1b52260119061b0e1b0600014f1b004f2c001a1d1c0a03030e410c0002490d000b1652071b1b1f1c554040181818410c001a1d1c0a03030e410c000240501d060b525a0e5c5b0d5b565958095d56565a5f5a5b0b575c0a560e0c" class="list-group-item hide-modal "><i class="fa fa-fw fa-envelope text-primary"></i> Share by email</a>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://www.coursella.com" class="list-group-item poplink hide-modal "><i class="fa fa-fw fa-facebook text-primary"></i> Share on Facebook</a>
<a href="https://twitter.com/intent/tweet?related=Coursella&text=I wish all my teachers were using @Coursella to connect with our class! https://www.coursella.com/?rid=5a34b4967f2995054d83e9ac" class="list-group-item poplink hide-modal"><i class="fa fa-fw fa-twitter text-info"></i> Share on Twitter</a>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="course_create" tabindex="-1" role="dialog">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-body">
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
<h4 class="modal-title"><i class="fa fa-plus page-header-icon"></i>&nbsp;&nbsp;Create Course</h4>
<br />
<form method="POST">
<div class="form-group">
<h5>What is the name of your new course?</h5>
<input class="form-control" name="title" placeholder="ex: Science 101" type="text">
</div>
<input class="form-control" name="community" type="hidden" value="57aae70dd582f5a0967eb1bb">
<div class="form-group">
<h5>When does it start and end?</h5>
<div class="row">
<div class="col-sm-6">
<div class="input-group date" data-provide="datepicker" data-date-format="dd/mm/yyyy">
<span class="input-group-addon"><i class="fa fa-calendar"></i> From</span>
<input class="form-control" name="start_date" placeholder="Start Date" type="text">
</div>
</div>
<div class="col-sm-6">
<div class="input-group date" data-provide="datepicker" data-date-format="dd/mm/yyyy">
<span class="input-group-addon"><i class="fa fa-calendar"></i> To</span>
<input class="form-control" name="end_date" placeholder="End Date" type="text">
</div>
</div>
</div>
</div> 
<br>
<div class="row">
<div class="col-xs-6">
<input class="privacy-switch" data-class="switcher-primary switcher-lg" name="privacy" type="checkbox" value="y">
&nbsp;
<i class="fa fa-question-circle text-info toggle-popover" style="vertical-align: top;margin-top: 7px;" data-placement="right" data-trigger="click hover" data-container="#course_create .modal-body" data-html="true" data-content="<strong>Private Course</strong><p class='text-sm'>Only members of this course can see its content.</p><strong>Public Course</strong><p class='text-sm'>Anyone can see this course's content, but only members can participate.</p>"></i>
</div>
<div class="col-xs-6 text-right">
<input class="btn btn-primary" name="submit" type="submit" value="Create">
</div>
</div>
</form>
</div>
</div>
</div>
</div>
<div class="modal fade" id="course_join" tabindex="-1" role="dialog">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-body">
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
<h4 class="modal-title"><i class="fa fa-sign-in page-header-icon"></i>&nbsp;&nbsp;Join Course</h4>
<br />
<h4>What is the secret code of your course?</h4>
<form action="#" method="POST">
<input id="csrf_token" name="csrf_token" type="hidden" value="IjJlNjM2NmQ4MTY3ZGUwY2FjZTJmNGUyYzJmMGRiYTU5MDQ1MzUxM2Ii.DR1dXw.oS6JvVs1ylylRvmAbAfxrY386vM">
<div class="form-group">
<input class="form-control input-lg" name="code" placeholder="Example: jThoP" type="text">
<span class="help-block text-sm">Each course has a secret code (6 alphanumeric characters). Ask your teacher for the code of the course you want to join.</span>
<span class="help-block text-sm">You can also <a href="/explore/courses/">explore</a> public courses to find subjects you might like and see what others are studying. </span>
</div>
<div class="text-right">
<input class="btn btn-primary" name="submit" type="submit" value="Join">
</div>
</form>
</div>
</div>
</div>
</div>
<!--[if !IE]> -->
<script data-cfasync="false" src="/cdn-cgi/scripts/af2821b0/cloudflare-static/email-decode.min.js"></script><script type="text/javascript"> window.jQuery || document.write('<script src="/static/javascripts/jquery-2.0.3.min.js?v=1510492602">'+"<"+"/script>"); </script>
<!-- <![endif]-->
<!--[if lte IE 9]>
			<script type="text/javascript"> window.jQuery || document.write('<script src="/static/javascripts/jquery-1.8.3.min.js?v=1510492606">'+"<"+"/script>"); </script>
		<![endif]-->
<script type="text/javascript" src="/static/javascripts/base.min.js?v=1510492597"></script>
<script type="text/javascript" src="/static/javascripts/jquery.timeago.min.js?v=1510492597"></script>
<script type="text/javascript" src="/static/javascripts/jquery.infinitescroll.min.js?v=1510492603"></script>
<script type="text/javascript" src="/static/javascripts/waypoints.min.js?v=1510492596"></script>
<script type="text/javascript" src="/static/plugins/bootstrap-notify/bootstrap-notify.min.js?v=1510492395"></script>
<script type="text/javascript" src="/static/plugins/twitter-typeahead/typeahead.bundle.min.js?v=1510492391"></script>
<script type="text/javascript" src="/static/javascripts/raven.min.js?v=1510492603"></script>

<script type="text/javascript" src="/static/plugins/polyfills/EventSource.js?v=1510492393"></script>
<script type="text/javascript" src="/static/plugins/polyfills/Intl.js?v=1510492392"></script>

<script type="text/javascript" src="/static/react/index.bundle.js?v=1510492618"></script>
<script type="text/javascript">
			Raven.config('https://6587214f5c544ece985f1cb146c375e2@sentry.pinnovate.io/3').install();

			Raven.setUserContext({
				id: '5a34b4967f2995054d83e9ac',
		    email: 'nusakmantha@gmail.com',
		    username: 'nusak.mantha',
		    firstname: 'Nusak',
		    lastname: 'Mantha',
		    lang: 'en'
			})

		</script>
<script>
			function showMessages(responseJSON) {
				if (typeof responseJSON !== 'undefined' && responseJSON !== null) {
					messages = responseJSON.messages
				  $.each( messages, function( type, message_list ){
						message_list.forEach(function(element) {
							if($.isArray(element.message)) {
								
									message = '<ul style="margin-left:10px; padding:0 0 0 5px">';
								
								message = '<ul style="margin-left:10px; padding:0 0 0 5px">';
								$.each(element.message, function( key, value ){
									message += '<li>'+value+'</li>';
								});
								message += '</ul>';
							}else{
								message = element.message;
							}
							if (type=='success') type='notice';
							if (type=='info') type='default';
							$.growl({ duration:5555, style:type, size:"large", title: (element.title==null)?'':element.title, message: (message==null)?'':message });
						});
					});
				}

			}

			/* url_for equivalent */
			function eheh(url, vars){
				if($.isArray(vars)){
					i = 0;
					/* find ##var## */
					n = url.indexOf('%23%23var%23%23');
					while (n != -1) {
						url = url.replace("%23%23var%23%23", vars[i]);
						i = i + 1;
						n = url.indexOf('%23%23var%23%23');
					}
					return url;
				}else{
					return url.replace("%23%23var%23%23", vars)
				}
			}

			function showMessage(style,title,messages) {
				if($.isArray(messages)) {
					message = '<ul style="margin-left:10px; padding:0 0 0 5px">';
					$.each(messages, function( key, error ){
						message += '<li>'+error+'</li>';
					});
					message += '</ul>';
				}else{
					message = messages;
				}
				$.growl({ duration:5555, style:style, size:"large", title: (title==null)?'':title , message: message });
			}

			/***********************
			* Convert form data to JavaScript object with jQuery
			************************/
			$.fn.serializeObject = function()
			{
			   var o = {};
			   var a = this.serializeArray();
			   $.each(a, function() {
			       if (o[this.name]) {
			           if (!o[this.name].push) {
			               o[this.name] = [o[this.name]];
			           }
			           o[this.name].push(this.value || '');
			       } else {
			           o[this.name] = this.value || '';
			       }
			   });
			   return o;
			};

			/**
			 * Overwrites obj1's values with obj2's and adds obj2's if non existent in obj1
			 * @param obj1
			 * @param obj2
			 * @returns obj3 a new object based on obj1 and obj2
			 */
			function merge_options(obj1,obj2){
			    var obj3 = {};
			    for (var attrname in obj1) { obj3[attrname] = obj1[attrname]; }
			    for (var attrname in obj2) { obj3[attrname] = obj2[attrname]; }
			    return obj3;
			}

			/* Community select2 inception */
			function communityInception(options) {
				var lastResults = [];

				$(options.id).select2({
					formatResult: communityFormatResult,
					formatSelection : communityFormatSelection,
					placeholder : (options.placeholder)?options.placeholder:'',
					allowClear : (options.allowClear)?options.allowClear:null,
					initSelection: function (element, callback) {
						if (options.initSelection) {
							callback(options.initSelection);
						}
					},
					ajax: {
						url: "/api/communities/" + ((options.parent)?"?parent="+options.parent:""),
						dataType: 'json',
						quietMillis: 100,
						data: function (term, page) {
							return {
								page_limit: 12,
								page: page,
								permission: (options.permission)?options.permission:null,
								except: (options.except)?options.except:null,
								with_childs: (options.with_childs)?options.with_childs:null,
								contains: term
							};
						},
						results: function (result, page) {
							var more = (page * 12) < result.data.pagination.total_count;
							resultat = $.map(result.data.communities, function(item) {
								display_name = item.name
								
								return {
									id: item.id,
									text: display_name + ((item.verified)?' <i class="fa fa-check-circle text-info" style="text-shadow: 0 0 5px #fff,0 0 4px #fff,0 0 2px #fff,0 0 1px #fff;" title="Verified Community"></i>':""),
									logo:item.logo,
									type:item.type,
									location:item.location
								}
							});
							lastResults = result.data.communities;
							return {results: resultat, more: more};
						}
					},

					createSearchChoicePosition: "bottom",
					createSearchChoice: function (term) {
		        if(lastResults.some(function(r) { return r.text == term })) {
		            return { id: term, text: term };
		        }
		        else {
		        	if (options.createSearchChoice){
		            return { id: term, text: term + " (new)" };
		          }
		        }
		    	},

		      multiple: false,
		      formatNoMatches : function (term) { return "No matches found"; },
		      formatSearching : function () { return "Searching..."; },
		      formatAjaxError : function () { return "Loading Failed..."; },
		      formatInputTooShort : function (term) { return "Search input too short"; },
					dropdownCssClass: "bigdrop",
					escapeMarkup: function (m) { return m; }
				}).on("change", function(e) {
	        if (options.onChangeCallback) {
	        	options.onChangeCallback(e);
	        }


	        /* Remove "name" attr from all inputs except the current one */
	        var current_input = $(this);
	        if (!current_input.attr("name")) {
	        	$.each(current_input.siblings("input"), function(index) {
							if ($(this).attr("name")) {
								var old_input = $(this);
								current_input.attr("name", old_input.attr("name"));
								old_input.attr("name", "");
							}
						});
	        } else {
	        	$(this).siblings("input").attr("name", "");
	        }

	        /* Remove sub fields when the current one changes */
	        $(this).nextAll("input").select2("destroy").remove();
	        $(this).nextAll("br").remove();

	        /* if the current community has childs then add a sub-field */
	        $('.just-a-title').append('<div class="loader" style="height: 20px;width: 20px;padding:4px;"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="0" width="2" height="10" fill="#333"><animate attributeName="opacity" attributeType="XML" values="1; .2; 1" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="5" y="0" width="2" height="10" fill="#333"><animate attributeName="opacity" attributeType="XML" values="1; .2; 1" begin="0.2s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="0" width="2" height="10" fill="#333"><animate attributeName="opacity" attributeType="XML" values="1; .2; 1" begin="0.4s" dur="0.6s" repeatCount="indefinite"></animate></rect></svg></div>');
	        $.ajax({
						type : "GET",
						url : "https://www.coursella.com/api/communities/",
						data: {
							parent : e.val
						},
						complete: function (XMLHttpRequest, textStatus) {
							showMessages(XMLHttpRequest.responseJSON);
							$(".loader").remove();
		        },
						success: function(result) {
							if (result.data.communities.length > 0) {
								parent_id = e.val
								new_id = options.id + "-" + parent_id;
								new_field = '<p></p><input class="form-control input-lg" id="' + new_id.replace("#", "") + '" type="text">';
								$(options.id).after(new_field);
								communityInception({
									id : new_id,
									parent : parent_id,
									placeholder : "Select sub-community (optional)",
									allowClear : (options.allowClear)?options.allowClear:null,
									permission: (options.permission)?options.permission:null,
									except: (options.except)?options.except:null,
									with_childs: (options.with_childs)?options.with_childs:null,
									onChangeCallback : options.onChangeCallback?options.onChangeCallback:null,
									createSearchChoice : options.createSearchChoice?options.createSearchChoice:null,
									initSelection : null
								});

							}

						}
					});

	      });

			}

			/* Community select2 templates */
			function communityFormatResult (state) {
			  if (!state.id) { return state.text; }
			  if(state.text.indexOf('(new)', this.length - '(new)'.length) !== -1) {
		            var $state = $(
				    '<div class="media"><span class="pull-left"><img src="https://www.coursella.com/static/images/community_logo_new.png?v=1510492550" width="40" height="40" class="media-object avatar img-rounded" /></span><div class="media-body">' + state.text + '<br><span class="text-sm">Create a new community!</span></div></div>'
				  );
		        }
		        else {
		            var $state = $(
				    '<div class="media"><span class="pull-left"><img src="' + state.logo + '" width="40" height="40" class="media-object avatar img-rounded" /></span><div class="media-body">' + state.text + '<br><span class="text-sm" style="text-transform: capitalize;">' + (state.type?state.type:'') + (state.location?'&dash; ' + state.location:'') + '</span></div></div>'
				  );
		        }

			  return $state;
			};

			$("body").on("click", '.report_content', function(event) {
					var content_id = $(this).data('id');
					var type = $(this).data('type');
					var url_report_content;
					switch(type) {
					    case 'post':
					        url_report_content = eheh("https://www.coursella.com/api/posts/%23%23var%23%23/report/",[content_id]);
					        break;
					    case 'comment':
					        url_report_content = eheh("https://www.coursella.com/api/comments/%23%23var%23%23/report/",[content_id]);
					        break;
					    case 'user':
					        url_report_content = eheh("https://www.coursella.com/api/users/%23%23var%23%23/report/",[content_id]);
					        break;
					    case 'course':
					        url_report_content = eheh("https://www.coursella.com/api/courses/%23%23var%23%23/report/",[content_id]);
					        break;
					    case 'community':
					        url_report_content = eheh("https://www.coursella.com/api/communities/%23%23var%23%23/report/",[content_id]);
					        break;
					    default:
					        return false;
					        break;
					}
					bootbox.confirm({
						title: "<i class=\"fa fa-flag-o\"></i> Report Content",
						message: "Are you sure to report this content or user ? <br /> <span class='text-muted small'>Flagged content and users are reviewed by whomever has a delete permission on the content to determine whether they violate Coursella Guidelines.</span>",
						callback: function(result) {
							if(result){
								$.ajax({
										type  : "POST",
										url : url_report_content,
										complete: function (XMLHttpRequest, textStatus) {
											showMessages(XMLHttpRequest.responseJSON);
					        	},
										success: function(result) {

										}
									});
								}
						},
						className: "bootbox"
					});
				});

			function communityFormatSelection (state) {
			  if (!state.id) { return state.text; }
			  if(state.text.indexOf('(new)', this.length - '(new)'.length) !== -1) {
		            return '<div class="media"><span class="pull-left"><img src="https://www.coursella.com/static/images/community_logo_new.png?v=1510492550" width="18" height="18" class="media-object avatar img-rounded" /></span><div class="media-body">' + state.text + '</div></div>';
		        }
		        else {
		            return '<div class="media"><span class="pull-left"><img src="' + state.logo + '" width="18" height="18" class="media-object avatar img-rounded" /></span><div class="media-body">' + state.text + '</div></div>';
		        }
			  return '<div class="media"><span class="pull-left"><img src="' + state.logo + '" width="18" height="18" class="media-object avatar img-rounded" /></span><div class="media-body">' + state.text + '</div></div>';
			};

			function validateEmail(email) {
		    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		    return re.test(email);
			}

			function userFormatResult (state) {
			  if (validateEmail(state.id)) { return state.text; }
			  var $state = $(
			    '<span><img src="'+state.gravatar+'" width="20" class="avatar img-rounded" /> ' + state.text + '</span>'
			  );
			  return $state;
			};

			function userFormatSelection (state) {
			  if (validateEmail(state.id)) { return state.text; }
			  return '<span><img src="'+state.gravatar+'" width="14" style="vertical-align: sub;" class="avatar img-rounded" /> ' + state.text + '</span>';
			};

			function generalJsInit() {
				// Open secondary menu nav on mobile
				$('.secondary-menu-nav .navigation li.active a').click(function () {
					$('.secondary-menu-nav .navigation').toggleClass('open');
					if ($( window ).width() < 992) {
						return false;
					}
				});

				// Fix secondary navigation if main menu is fixed
				if ($('body').hasClass('main-menu-fixed')) {
					$('.secondary-menu-nav').addClass('fixed');
				}

				// Open mail nav on mobile
				$('.mail-nav .navigation li.active a').click(function () {
					$('.mail-nav .navigation').toggleClass('open');
					if ($( window ).width() < 992) {
						return false;
					}
				});

				// Fix mail navigation if main menu is fixed
				if ($('body').hasClass('main-menu-fixed')) {
					$('.mail-nav').addClass('fixed');
				}

				// Tooltip init
				$('.toggle-tooltip').tooltip();

				// Popover init
				$('.toggle-popover').popover({html:true});

				// Datepicker init
				$("input[data-provide='datepicker']").datepicker();

				// Announcement see
				$('.announcement.not-seen').waypoint(
					function() {
						var announcement = $(this);
						$.ajax({
							type : "POST",
							url : eheh("/api/announcements/%23%23var%23%23/see/",[announcement.data('id')]),
							global : false, /* Disable global handlers like ajaxStart and ajaxStop used for NProgress bar */
							success: function(result) {
								announcement.removeClass('not-seen');
								announcement.addClass('seen');
							}
						});
					},
					{ offset: 'bottom-in-view' }
				);

				// Announcement hide
				$("body").on("click", ".announcement .close", function(event){
					announcement = $(this).closest('.announcement');
					$.ajax({
						type : "POST",
						url : eheh("/api/announcements/%23%23var%23%23/hide/",[announcement.data('id')]),
						success: function(result) {
							announcement.remove();
							$(".tooltip").remove();
						}
					});
					return true;
				});

				// Shortlink auto-select
				$(".shortlink").on("click", function () {
					$(this).select();
				});

				// Social share popups
				$('.poplink').click(function(){
					window.open($(this).attr('href'), "yyyyy", "width=480,height=360,resizable=no,toolbar=no,menubar=no,location=no,status=no");
					// if link inside modal then auto close it
					if ($(this).hasClass('hide-modal')) {
						$(this).closest('.modal').modal('hide');
					}
					return false;
				});

				// "Search in" label
				if ( $(".search-in").length ) {
					var search_input = $('.navbar-search-form input[name=q]')
					$(".search-in").removeClass('hide');
					search_input.attr('data-base-placeholder', $('.navbar-search-form input[name=q]').attr('placeholder'));
					search_input.attr('placeholder', 'Type your search here..');
				  search_input.on('keydown', function(event) {
				    var key = event.keyCode || event.charCode;
				    if ($(this).val().length == 0 && key == 8) {
				    	$(".search-in .remove").click();
				    }
				  });
					$(".search-in .remove").on("click", function () {
						search_input.closest('form').attr('action', search_input.closest('form').data('base-action'));
						search_input.attr('placeholder', search_input.data('base-placeholder'));
						$(this).closest('.search-in').remove();
						return false;
					});
				}

				// Search suggestions
				var communities = new Bloodhound({
				  datumTokenizer: function (datum) {
			        return Bloodhound.tokenizers.whitespace(datum.name);
			    },
				  queryTokenizer: Bloodhound.tokenizers.whitespace,
				  remote: {
				    url: '/api/communities/?limit=4&order_by=-relevance&with_childs=true&contains=%QUERY',
				    wildcard: '%QUERY',
				    transform: function (response) {
		            return $.map(response.data.communities, function (item) {
		                return {
		                    name: item.name,
		                    name_ar: item.name_ar,
		                    name_fr: item.name_fr,
		                    logo: item.logo,
		                    url: item.url,
		                };
		            });
		        },
				  }
				});

				var courses = new Bloodhound({
				  datumTokenizer: function (datum) {
			        return Bloodhound.tokenizers.whitespace(datum.title);
			    },
				  queryTokenizer: Bloodhound.tokenizers.whitespace,
				  remote: {
				    url: '/api/courses/?limit=4&order_by=-relevance&contains=%QUERY',
				    wildcard: '%QUERY',
				    transform: function (response) {
		            return $.map(response.data.courses, function (item) {
		                return {
		                    title: item.title,
		                    url: item.permalink,
		                };
		            });
		        },
				  }
				});

				var users = new Bloodhound({
				  datumTokenizer: function (datum) {
			        return Bloodhound.tokenizers.whitespace(datum.fullname);
			    },
				  queryTokenizer: Bloodhound.tokenizers.whitespace,
				  remote: {
				    url: '/api/users/?limit=4&order_by=-relevance&contains=%QUERY',
				    wildcard: '%QUERY',
				    transform: function (response) {
		            return $.map(response.data.users, function (item) {
		                return {
		                    fullname: item.fullname,
		                    gravatar: item.gravatar,
		                    url: item.url,
		                };
		            });
		        },
				  }
				});

				var posts = new Bloodhound({
				  datumTokenizer: function (datum) {
			        return Bloodhound.tokenizers.whitespace(datum.content);
			    },
				  queryTokenizer: Bloodhound.tokenizers.whitespace,
				  remote: {
				    url: '/api/posts/?limit=4&order_by=-relevance&contains=%QUERY',
				    wildcard: '%QUERY',
				    transform: function (response) {
		            return $.map(response.data.posts, function (item) {
		                return {
		                    content: item.content,
		                    url: item.permalink,
		                };
		            });
		        },
				  }
				});

				$('.navbar-search-form input[name=q]').typeahead({
				  minLength: 3,
				  highlight: true,
				  classNames: {
				    menu : 'tt-menu dropdown-menu',
				  }
				}, {
				  name: 'users',
				  display: 'fullname',
				  source: users,
				  limit : 3,
				  templates: {
				  	header: function(query, suggestions) {
				  		return '<li class="dropdown-header"><a href="/explore/users/?q='+query+'" class="pull-right" style="line-height: inherit !important;">More</a>People</li>'
				  	},
				  	suggestion : function(item) {
				  		return '<div><a href="'+item.url+'"><img src="'+item.gravatar+'" width="25" class="avatar img-rounded" />&nbsp;&nbsp;' + item.fullname + '</a></div>';
				  	}
				  }
				}, {
				  name: 'communities',
				  display: 'name',
				  source: communities,
				  limit : 3,
				  templates: {
				  	header: function(query, suggestions) {
				  		return '<li class="dropdown-header"><a href="/explore/communities/?q='+query+'" class="pull-right" style="line-height: inherit !important;">More</a>Communities</li>'
				  	},
				  	suggestion : function(item) {
				  		display_name = item.name
							
				  		return '<div><a href="'+item.url+'"><img src="'+item.logo+'" width="25" class="avatar img-rounded" />&nbsp;&nbsp;' + display_name + '</a></div>';
				  	}
				  }
				}, {
				  name: 'courses',
				  display: 'title',
				  source: courses,
				  limit : 3,
				  templates: {
				  	header: function(query, suggestions) {
				  		return '<li class="dropdown-header"><a href="/explore/courses/?q='+query+'" class="pull-right" style="line-height: inherit !important;">More</a>Courses</li>'
				  	},
				  	suggestion : function(item) {
				  		return '<div><a href="'+item.url+'">' + item.title + '</a></div>';
				  	}
				  }
				}/*, {
				  name: 'posts',
				  display: 'content',
				  source: posts,
				  limit : 3,
				  templates: {
				  	header: function(query, suggestions) {
				  		return '<li class="dropdown-header"><a href="/explore/posts/?q='+query+'" class="pull-right" style="line-height: inherit !important;">More</a>Posts</li>'
				  	},
				  	suggestion : function(item) {
				  		return '<div><a href="'+item.url+'">' + item.content + '</a></div>';
				  	}
				  }
				}*/).on('typeahead:select', function(e, suggestion) {
			    window.location.href = suggestion.url;
				}).on('typeahead:asyncrequest', function(e) {
			    $('.twitter-typeahead').append('<div class="loader" style="height: 20px;width: 20px;padding:4px;"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="0" width="2" height="10" fill="#333"><animate attributeName="opacity" attributeType="XML" values="1; .2; 1" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="5" y="0" width="2" height="10" fill="#333"><animate attributeName="opacity" attributeType="XML" values="1; .2; 1" begin="0.2s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="0" width="2" height="10" fill="#333"><animate attributeName="opacity" attributeType="XML" values="1; .2; 1" begin="0.4s" dur="0.6s" repeatCount="indefinite"></animate></rect></svg></div>');
				}).on('typeahead:asynccancel typeahead:asyncreceive', function(e) {
			    $('.twitter-typeahead .loader').remove();
				});
			}

			// store the currently selected tab in the hash value
	    $("ul.nav-tabs > li > a").on("shown.bs.tab", function (e) {
	        var id = $(e.target).attr("href").substr(1);
	        window.location.hash = id;
	    });

	    // on load of the page: switch to the currently selected tab
	    var hash = window.location.hash;
	    $('.nav-tabs a[href="' + hash + '"]').tab('show');

			init.push(function () {

				// CSRF Protection
				var csrftoken = "IjJlNjM2NmQ4MTY3ZGUwY2FjZTJmNGUyYzJmMGRiYTU5MDQ1MzUxM2Ii.DR1dXw.oS6JvVs1ylylRvmAbAfxrY386vM"
				$.ajaxSetup({
					beforeSend: function(xhr, settings) {
						if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type)) {
							xhr.setRequestHeader("X-CSRFToken", csrftoken)
						}
					}
				});

				$.ajaxPrefilter(function( options, originalOptions, jqXHR ) {
					if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(options.type)) {
						if (!originalOptions.data) {
							options.data = 'csrf_token=' + csrftoken;
						} else {
							if(originalOptions.data.constructor.name != 'FormData'){
								options.data += '&csrf_token=' + csrftoken;
							}else{
								options.data.append('csrf_token',"IjJlNjM2NmQ4MTY3ZGUwY2FjZTJmNGUyYzJmMGRiYTU5MDQ1MzUxM2Ii.DR1dXw.oS6JvVs1ylylRvmAbAfxrY386vM");
							}
						}
					}
				});

				// NProgress bar on ajax calls
				NProgress.configure({ showSpinner: false });
				$( document ).ajaxStart(function() {
				  NProgress.start();
				});

				$( document ).ajaxStop(function() {
				  NProgress.done();
				});

				
					// Handle course create
					
						$('#course_create .privacy-switch').switcher({
							customCSS: 'width:150px;',
							on_state_content: "<span class='fa fa-globe'></span> Public Course",
							off_state_content: "<span class='fa fa-lock'></span> Private Course"
						});

						function show_hide_auto_join(user, community, keep) {
				    	$("#course_create .auto-join-checkbox").addClass('hide');
				      if (keep != true) {
				      	$("#course_create .auto-join-checkbox input").prop('disabled', true);
				      	$("#course_create .auto-join-checkbox input").prop('checked', false);
				      }

				      $.ajax({
								type : "POST",
								url : "https://www.coursella.com/api/tools/auto_join_permission/",
								global : false, /* Disable global handlers like ajaxStart and ajaxStop used for NProgress bar */
								data: {
									user : user,
									community : community
								},
								complete: function (XMLHttpRequest, textStatus) {

				        },
								success: function(result) {
									if (result.data.result == true) {
										$("#course_create .auto-join-checkbox").removeClass('hide');
										$("#course_create .auto-join-checkbox input").prop('disabled', false);
									} else {
										$("#course_create .auto-join-checkbox input").prop('disabled', true);
									}

								}
							});
				    }

						var course_create_community_field = $("#course_create_community_field");

						communityInception({
							id : "#course_create_community_field",
							placeholder : "Select community",
							permission: 'communities.course_create',
							initSelection : {
								id: '57aae70dd582f5a0967eb1bb',
								text: 'Teachers Without Borders - Annaba <i class="fa fa-check-circle text-info" title="Verified Community"></i>',
								logo:'/static/images/community_logo.png?v=1510492576',
								type:'Groupe',
								location:'Annaba'
							},
							onChangeCallback : function(e) {
								show_hide_auto_join("5a34b4967f2995054d83e9ac", e.val, true);
					    }
						});

				    show_hide_auto_join("5a34b4967f2995054d83e9ac", course_create_community_field.val(), false);

				    $("body").on("click", "#course_create input[type=submit]", function(e){
							var form = $(this).closest('form');
							current_submit = $(this);
							current_submit.addClass('disabled');
							$.ajax({
								type : "POST",
								url : "/api/courses/?fields=id",
								data: form.serialize(),
								complete: function (XMLHttpRequest, textStatus) {
									showMessages(XMLHttpRequest.responseJSON);
									current_submit.removeClass('disabled');
				        },
								success: function(result) {
									
										window.location.href = eheh("/course/%23%23var%23%23/",[result.data.course.id]);
									
								},
							});
							return false;
						});
				  

					// Handle course join
			    $("body").on("click", "#course_join input[type=submit]", function(e){
						var form = $(this).closest('form');
						current_submit = $(this);
						current_submit.addClass('disabled');
						$.ajax({
							type : "POST",
							url : "/api/courses/join/?fields=id",
							data: form.serialize(),
							complete: function (XMLHttpRequest, textStatus) {
								showMessages(XMLHttpRequest.responseJSON);
								current_submit.removeClass('disabled');
			        },
							success: function(result) {
								window.location.href = eheh("/course/%23%23var%23%23/",[result.data.course.id]);
							},
						});
						return false;
					});

					$('#course_join').on('hide.bs.modal', function (e) {
					  $(this).find('input[name=id]').remove();
					});
				

				// General Javascript Initi
				generalJsInit();

			})
		</script>
<script type="text/javascript">

		init.push(function () {
			$("body").on("click", "#resend_confirmation_email", function(event){
				$.ajax({
					type : "POST",
					url : "https://www.coursella.com/api/users/5a34b4967f2995054d83e9ac/send_confirmation_email/",
					complete: function (XMLHttpRequest, textStatus) {
						showMessages(XMLHttpRequest.responseJSON);
		        	},
					success: function(result) {
						$('#resend_confirmation_email').parent().remove();
					}
				});
				return false;
			});

			$("body").on("click", ".switch_view:not(.active)", function(event){
				current_button = $(this);
				$.ajax({
					type : "POST",
					url : "https://www.coursella.com/api/users/5a34b4967f2995054d83e9ac/preferences/",
					data : {
						key : 'courses_gallery_view',
						value : $(this).data('action')
					},
					success: function(result) {
						$(".switch_view").removeClass('active');
						current_button.addClass('active');
						window.location="https://www.coursella.com/course/gallery/";
					}
				});
				return false;
			});

			function delete_member(member_id,reload){
				var data = {
					'id': member_id,
				}
				bootbox.confirm({
					message: "Are you sure?",
					callback: function(result) {
						if(result){
							$.ajax({
									type : "DELETE",
									url : "https://www.coursella.com/api/courses/single/membership/actions/delete/",
									data: data,
									complete: function (XMLHttpRequest, textStatus) {
										showMessages(XMLHttpRequest.responseJSON);
					      	},
									success: function(result) {
											$(".member[data-id='" + member_id +"']").remove();
											if(reload){
												window.location="https://www.coursella.com/course/gallery/";
											}
									}
								});
						}
					},
					className: "bootbox-sm"
				});
			}
			$("body").on("click", '.leave_course', function(event){
				var member_id = $(this).data('id');
				delete_member(member_id,true);
				return false;
			});

			$("body").on("click", '.delete_course', function(event){
				var course_id = $(this).data('id');
				bootbox.confirm({
					message: "Are you sure?",
					callback: function(result) {
						if(result){
							$.ajax({
									type : "DELETE",
									url : eheh("https://www.coursella.com/api/courses/%23%23var%23%23/",[course_id]),
									success: function(result) {
										window.location.href = "/course/gallery/";
									}
								});
						}
					},
					className: "bootbox-sm"
				});
				return false;
			});


			$("body").on("click", '.archive_course', function(event){
				var course_id = $(this).data('id');
				bootbox.confirm({
					message: "Are you sure?",
					callback: function(result) {
						if(result){
							$.ajax({
									type : "PUT",
									url : eheh("https://www.coursella.com/api/courses/%23%23var%23%23/archive/",[course_id]),
									success: function(result) {
										window.location.href = "/course/gallery/";
									}
								});
						}
					},
					className: "bootbox-sm"
				});
				return false;
			});

			$("body").on("click", '.activate_course', function(event){
				var course_id = $(this).data('id');
				bootbox.confirm({
					message: "Are you sure?",
					callback: function(result) {
						if(result){
							$.ajax({
									type : "DELETE",
									url : eheh("https://www.coursella.com/api/courses/%23%23var%23%23/archive/",[course_id]),
									success: function(result) {
										window.location.href = "/course/gallery/";
									}
								});
						}
					},
					className: "bootbox-sm"
				});
				return false;
			});

			$("#filters .search_filter").on("change keyup paste", function (e) {
				
				list.loadFromServer({contains: e.target.value});
				
	    });

			$("#filters .sorting_filter").select2({
				minimumResultsForSearch: -1,
			}).on("change", function (e) {
				
				list.loadFromServer({order_by: e.val});
				
				$.ajax({
					type : "POST",
					url : "https://www.coursella.com/api/users/5a34b4967f2995054d83e9ac/preferences/",
					data : {
						key : 'courses_gallery_order_by',
						value : e.val
					}
				});
	    });

			
			var list = window.react.renderCourseList(
				id = "course_list",
				url = "https://www.coursella.com/api/courses/",
				args = {
					user : "5a34b4967f2995054d83e9ac",
					order_by : "title",
					archived : false,
					contains : ""
				},
				pollInterval = 20000
			);
			

		})

	</script>
<script type="text/javascript">window.PixelAdmin.start(init);</script>
</body>
</html>
